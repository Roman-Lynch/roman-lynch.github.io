<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects</title>
    <link rel="stylesheet" href="css/project_styles.css"> <!-- Link to external CSS -->
</head>
<body>
    <script>
        /* RUNS "LEARN MORE" BUTTON */
        function toggleDropdown(id) {
            var content = document.getElementById(id);
            var navbarHeight = document.querySelector("nav")?.offsetHeight || 0; // Adjust based on navbar height

            if (content.style.display === "block") {
                content.style.display = "none";
            } else {
                content.style.display = "block";
                setTimeout(() => {
                    let targetPosition = content.getBoundingClientRect().top + window.scrollY - navbarHeight - 10;
                    smoothScroll(targetPosition, 600);
                }, 200);
            }
        }

        /* RUNS "LEARN MORE" ANNIMATION */
        function smoothScroll(targetPosition, duration) {
            const startPosition = window.scrollY;
            const distance = targetPosition - startPosition;
            let startTime = null;

            function animationStep(currentTime) {
                if (!startTime) startTime = currentTime;
                const timeElapsed = currentTime - startTime;
                const progress = Math.min(timeElapsed / duration, 1);
                const easeInOutQuad = progress < 0.5 
                    ? 2 * progress * progress 
                    : 1 - Math.pow(-2 * progress + 2, 2) / 2;

                window.scrollTo(0, startPosition + distance * easeInOutQuad);

                if (timeElapsed < duration) {
                    requestAnimationFrame(animationStep);
                }
            }

            requestAnimationFrame(animationStep);
        }
    
        document.addEventListener("DOMContentLoaded", () => {
            /* For setting the color of the project title */
            document.querySelectorAll('.project').forEach(project => {
                const color = project.querySelector('.project-text').getAttribute('project-color');
                if (color) {
                    // Set the --project-color for both project-text and dropdown-content elements
                    project.querySelector('.project-text').style.setProperty('--project-color', color);
                }
            });

            /* For setting the color of the project-mirror title */
            document.querySelectorAll('.project-mirror').forEach(project => {
                const color = project.querySelector('.project-mirror-text').getAttribute('project-color');
                if (color) {
                    // Set the --project-color for both project-text and dropdown-content elements
                    project.querySelector('.project-mirror-text').style.setProperty('--project-color', color);
                }
            });

            /* For setting the color of the drop down background */
            document.querySelectorAll('.dropdown-content').forEach(dropdown => {
                const color = dropdown.getAttribute('dropdown-color');
                if (color) {
                    dropdown.style.setProperty('--dropdown-color', color);
                }
            });

            /* For setting the color of the drop down text */
            document.querySelectorAll('.dropdown-text').forEach(dropdown => {
                const color = dropdown.getAttribute('dropdown-text-color');
                if (color) {
                    dropdown.style.setProperty('--dropdown-text-color', color);
                }
            });
        });
    </script>
        
    <header>
        <nav>
            <ul>
                <li class="logo"><a href="index.html">M</a></li>
                <li><a href="Projects.html">Projects</a></li>
                <li><a href="Team.html">Team</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div id="feature-films" style="position: relative; top: -80px;"></div>
        <h1>Feature Films</h1>
        <div class="projects-container">
            <!-- THE DAY PLAYERS -->
            <section class="project">
                <img src="images/ph_image_1.jpg" alt="The Day Players">
                <div class="project-text" project-color="var(--dark-red)">
                    <h2>The Day Players</h2>
                    <p>A heist plotted by a mysterious crime lord is carried out by a gang of young criminals whilst two desperate detectives hatch a risky sting operation to stop them.</p>
                    <p>Status: In Pre-Production</p>
                    <h1 onclick="toggleDropdown('day-players')">Learn More ▼</h1>
                </div>
            </section>
            <div id="day-players" class="dropdown-content" dropdown-color="var(--dark-red)">
                <div class="dropdown-text">
                    <h1>The Day Players</h1>
                    <p>Inspired by films like Reservoir Dogs and The Usual Suspects, The Day Players is a crime-based mystery thriller.</p>
                    <p>Release Date: Unknown</p>
                </div>
            </div>
            <!-- THE DAY PLAYERS -->

            <!-- MUSTARD MAN (PROJECT-MIRROR) -->
            <section class="project-mirror">
                <div class="project-mirror-text" project-color="var(--yellow)">
                    <h2>Mustard Man</h2>
                    <p>KJ leaves school, unsure if he'll ever return. He arrives home, only to find that his parents have moved without telling him.</p>
                    <p>Available on <a href="https://www.amazon.com/Mustard-Man-Roman-Lynch/dp/B0D2KYMSZ2" target="_blank">Prime Video</a></p>
                    <h1 onclick="toggleDropdown('mustard-man')">Learn More ▼</h1>
                </div>
                <img src="images/ph_image_2.jpg" alt="mustard-man">
            </section>
            <div id="mustard-man" class="dropdown-content" dropdown-color="var(--yellow)">
                <div class="dropdown-text">
                    <h1>Mustard Man</h1>
                    <p>A coming-of-age story about finding one's place in the world.</p>
                    <p>Release Date: Unknown</p>
                </div>
            </div>
        </div> 
        <!-- MUSTARD MAN -->

        <div id="shorts" style="position: relative; top: -80px;"></div>
        <h1>Shorts</h1>
        <div class="projects-container">
            <!-- WHITE ABYSS -->
            <section class="project">
                <img src="images/ph_image_2.jpg" alt="white-abyss">
                <div class="project-text" project-color="var(--white)">
                    <h2>White Abyss</h2>
                    <p>Kids get cold</p>
                    <p>Available on <a href="https://www.amazon.com/Mustard-Man-Roman-Lynch/dp/B0D2KYMSZ2" target="_blank">Prime Video</a></p>
                    <h1 onclick="toggleDropdown('white-abyss')">Learn More ▼</h1>
                </div>
            </section>
            <div id="white-abyss" class="dropdown-content" dropdown-color="var(--white)">
                <div class="dropdown-text" dropdown-text-color="var(--black)">
                    <h1>White Abyss</h1>
                    <p>COLD COLD COLD.</p>
                    <p>Release Date: Unknown</p>
                </div>
            </div>
            <!-- WHITE ABYSS -->

            <!-- WKB (PROJECT-MIRROR) -->
            <section class="project-mirror">
                <div class="project-mirror-text" project-color="var(--purple)">
                    <h2>Who Killed Bradley</h2>
                    <p>death</p>
                    <p>Available on <a href="https://www.amazon.com/Mustard-Man-Roman-Lynch/dp/B0D2KYMSZ2" target="_blank">Prime Video</a></p>
                    <h1 onclick="toggleDropdown('wkb')">Learn More ▼</h1>
                </div>
                <img src="images/ph_image_2.jpg" alt="wkb">
            </section>
            <div id="wkb" class="dropdown-content" dropdown-color="var(--purple)">
                <div class="dropdown-text" dropdown-text-color="var(--yellow)">
                    <h1>Who Killed Bradley</h1>
                    <p>Death he dies</p>
                    <p>Available on</p>
                </div>
            </div>
            <!-- WKB -->

            <!-- BANITO -->
            <section class="project">
                <img src="images/ph_image_2.jpg" alt="Banito">
                <div class="project-text" project-color="var(--dark-red)">
                    <h2>Banito</h2>
                    <p>cold death</p>
                    <p>Available on <a href="https://www.amazon.com/Mustard-Man-Roman-Lynch/dp/B0D2KYMSZ2" target="_blank">Prime Video</a></p>
                    <h1 onclick="toggleDropdown('banito')">Learn More ▼</h1>
                </div>
            </section>
            <div id="banito" class="dropdown-content" dropdown-color="var(--white)">
                <div class="dropdown-text" dropdown-text-color="var(--dark-red)">
                    <h1>Banito</h1>
                    <p>Death he dies again</p>
                    <p>Available on</p>
                </div>
            </div>
            <!-- BANITO -->

            <!-- ANTHO (PROJECT-MIRROR) -->
            <section class="project-mirror">
                <div class="project-mirror-text" project-color="var(--dark-red)">
                    <h2>Antho</h2>
                    <p>short films</p>
                    <p>Available on <a href="https://www.amazon.com/Mustard-Man-Roman-Lynch/dp/B0D2KYMSZ2" target="_blank">Prime Video</a></p>
                    <h1 onclick="toggleDropdown('antho')">Learn More ▼</h1>
                </div>
                <img src="images/ph_image_2.jpg" alt="antho">
            </section>
            <div id="antho" class="dropdown-content" dropdown-color="var(--white)">
                <div class="dropdown-text" dropdown-text-color="var(--dark-red)">
                    <h1>Antho</h1>
                    <p>shorts</p>
                    <p>Available on</p>
                </div>
            </div>
            <!-- ANTHO -->
        </div>
        
        <div id="commercial" style="position: relative; top: -80px;"></div>
        <h1>Commercial</h1>
        <div class="projects-container">
            <section class="project">
                <div class="project-text" project-color="var(--white)">
                    <h2>Cosmos Institute</h2>
                    <p>Convo clips</p>
                    <p>ergfg</p>
                    <h1 onclick="toggleDropdown('cosmos-insitute')">Learn More ▼</h1>
                </div>
                <img src="images/ph_image_1.jpg" alt="Cosmos Insitute">
            </section>
            <div id="cosmos-insitute" class="dropdown-content" dropdown-color="var(--dark-red)">
                <div class="dropdown-text">
                    <h1>Comos Institute Ads</h1>
                    <p>Did stuff for $</p>
                </div>
            </div>
        </div>

        <footer>
        </footer>
    </main>
</body>
</html>